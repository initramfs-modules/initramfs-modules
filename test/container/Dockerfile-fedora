FROM registry.fedoraproject.org/fedora:latest

# kernel
RUN dnf -y install --setopt=install_weak_deps=False kernel

# dracut
RUN dnf -y install --setopt=install_weak_deps=False dracut


RUN dnf -y install --setopt=install_weak_deps=False btrfs-progs cryptsetup dash dmraid mdadm sed lvm2 make sudo e2fsprogs

RUN dnf -y install --setopt=install_weak_deps=False squashfs-tools qemu-system-x86-core

# networking
RUN dnf -y install --setopt=install_weak_deps=False \
    nfs-utils \
    nbd \
    dhcp-server \
    iscsi-initiator-utils \
    dhcp-client

RUN dnf -y install --setopt=install_weak_deps=False \
    pigz \
    scsi-target-utils \
    kmod-devel \
    bzip2 \
    xz \
    tar \
    wget \
    bash-completion \
    tcpdump \
    iproute \
    iputils \
    dbus-daemon \
    kbd \
    which \
    parted \
    ntfsprogs \
    procps-ng \
    && dnf clean all

